language: python
python:
  - "2.6"
  - "2.7"
  - "3.2"
  - "3.3"
env:
  global:
    secure: "V5RpOtEm4K4H8hXTPcaPu/z3cbGEdhYyEvN79+qQsGmaymODOFlw53SWPamg7ko6KQXJOu4niZVFU0+IOYxSZqPjXGe5h49+5byp87xhlT/P0vRQdeNC2UDPH4e9O3o+GGB9/yNzyCOOh0G+2M31jK4AkwzXFsMs5wEupuiAOdE="
before_install:
  # initialise buildtime-trend scripts
  - source ./init.sh
install:
  - timestamp.sh install
  - CFLAGS="-O0" pip install -r requirements.txt
  - CFLAGS="-O0" pip install -r requirements-tests.txt
script:
  - timestamp.sh tests
  - nosetests --with-coverage --cover-package=buildtimetrend
after_success:
  - timestamp.sh coveralls
  - coveralls
after_script:
  # synchronise buildtime-trend result with gh-pages
  - sync-buildtime-trend-with-gh-pages.sh
