{"name":"Buildtime trend","tagline":"Create a trendline of the different stages of a build process","body":"Build stages trend example\r\n--------------------------\r\n\r\n![build stages trend](http://ruleant.github.io/buildtime-trend/buildtime-trend/trend.png)\r\n\r\nDependencies\r\n------------\r\n\r\n- lxml (python wrapper for libxml2 and libxslt)\r\n- matplotlib v1.2.0 or higher (for drawing the trend graph, stackplot is introduced in v1.2.0)\r\n\r\nInstall using pip :\r\n\r\n`pip install lxml 'matplotlib>=1.2.0'`\r\n\r\nor as a Debian package :\r\n\r\n`apt-get install python-lxml python-matplotlib`\r\n\r\nUsage\r\n-----\r\n\r\nFirst the timestamp recording needs to be initialised :\r\n\r\n`source /path/to/init.sh`\r\n\r\nThis script will detect the location of the build-trend script folder,\r\nadds it to the PATH and cleans logfiles of previous runs.\r\nExecuting the init script with `source` is required to be able to export environment variables to the current shell session.\r\n\r\nBecause the script dir is added to PATH, no path needs to be added\r\nwhen logging a timestamp :\r\n\r\n`timestamp.sh eventname`\r\n\r\nThis will log the current timestamp to a file and display it on STDOUT.\r\nRepeat this step as much as needed.\r\n\r\nWhen finished, run \r\n\r\n`analyse.sh`\r\n\r\nto analyse the logfile with timestamps and print out the results.\r\nIt will calculate the duration between the timestamps and add them to\r\na file with the analysed data of previous builds.\r\nWhen run on Travis CI, it will automatically add build/job related info.\r\n\r\nIntegrate with Travis CI\r\n------------------------\r\n\r\nTo integrate Buildtime Trend with your build process on Travis CI : \r\ninstall and initialise the buildtime trend scripts, add timestamp labels, generate the trend\r\nand synchronise it with your gh-pages branch.\r\n\r\nAll you need is a github repo, a travis account for your repo and a gh-pages branch to publish the results.\r\n\r\nYou also need to create an encrypted GH_TOKEN to get write access to your repo (publish results on gh-pages branch) :\r\n- [create](https://github.com/settings/applications) the access token for your github repo, `repo` scope is sufficient\r\n- encrypt the environment variable using the [travis tool](http://docs.travis-ci.com/user/encryption-keys/) :\r\n`travis encrypt GH_TOKEN=github_access_token`\r\n- add the encrypted token to your .travis.yml file (see below)\r\n \r\nThe generated trend graph and build-data will be put in folder `buildtime-trend` on your `gh-pages` branch.\r\nThe trend is available on http://{username}.github.io/{repo_name}/buildtime-trend/trend.png\r\n\r\nExample `.travis.yml` file :\r\n\r\n    language: python\r\n    env:\r\n      global:\r\n        secure: # your secure GH_TOKEN goes here (required to share trend on gh-pages)\r\n    before_install:\r\n      # install and initialise build-trend scripts\r\n      - git clone https://github.com/ruleant/buildtime-trend.git $HOME/buildtime-trend\r\n      # initialise buildtime-trend scripts\r\n      - source $HOME/buildtime-trend/init.sh\r\n    install:\r\n      # generate timestamp with label 'install'\r\n      - timestamp.sh install\r\n      # install buildtime-trend dependencies\r\n      - CFLAGS=\"-O0\" pip install -r ${BUILD_TREND_HOME}/requirements.txt\r\n      # install dependencies\r\n    script:\r\n      # generate timestamp with label 'tests'\r\n      - timestamp.sh tests\r\n      # run your tests\r\n    after_success:\r\n      # generate timestamp with label 'after_success'\r\n      - timestamp.sh after_success\r\n      # after_success scripts\r\n    after_script:\r\n      # synchronise buildtime-trend result with gh-pages\r\n      - sync-buildtime-trend-with-gh-pages.sh\r\n\r\nBugs and feature requests\r\n-------------------------\r\n\r\nPlease report bugs and add feature requests in the Github [issue tracker](https://github.com/ruleant/buildtime-trend/issues).\r\n\r\nContact\r\n-------\r\n\r\nFollow us on [Twitter](https://twitter.com/buildtime_trend) and [Ohloh](https://www.ohloh.net/p/buildtime-trend).","google":"UA-49318924-1","note":"Don't delete this file! It's used internally to help with page regeneration."}